from mcp.server.fastmcp import FastMCP, Context
from mcp.server.sse import SseServerTransport
from starlette.applications import Starlette
from starlette.routing import Mount, Route
from fastapi import FastAPI
import json
import hashlib
import time
import os
import re

# ì±Œë¦°ì§€ 7: SSE ì§€ì›ì„ í¬í•¨í•œ í† í° íƒˆì·¨ ì·¨ì•½ì  MCP ì„œë²„ ìƒì„±
class ì±Œë¦°ì§€7ì„œë²„:
    def __init__(self):
        self.name = "ì±Œë¦°ì§€ 7 - í† í° íƒˆì·¨"
        self.port = 9007
        self.mcp = FastMCP(self.name)
        self.app = FastAPI()
        
        # í† í° ì €ì¥ì†Œ ì´ˆê¸°í™”
        self.í† í°ì €ì¥ì†Œ = {
            "ê´€ë¦¬ì_í† í°": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJhZG1pbiIsImZsYWciOiJZQkd7dDBrM25fdGgzZnRfdjNyeV9iNGQhfSIsImlhdCI6MTY1MTg4NDgwMH0.8FhJ7Z5KFUEJFoQW2xeUL9_NOzlKB3j8fKvxU_5qB4Y",
            "ì‚¬ìš©ì_ì„¸ì…˜": {},
            "API_í‚¤": {
                "ì´ë©”ì¼_ì„œë¹„ìŠ¤": "epro_api_5f4e3d2c1b0a9z8y7x_SECRET",
                "í´ë¼ìš°ë“œ_ìŠ¤í† ë¦¬ì§€": "cbx_api_1a2b3c4d5e6f7g8h9i_SECRET",
                "ë¶„ì„_ë„êµ¬": "dm_api_9z8y7x6w5v4u3t2s1r_SECRET"
            }
        }
        
        # ë„êµ¬ ì„¤ì •
        self.ë„êµ¬_ì„¤ì •()
        
        # SSE ì„œë²„ ë§ˆìš´íŠ¸
        self.SSEì„œë²„_ë§ˆìš´íŠ¸()
    
    def ë„êµ¬_ì„¤ì •(self):
        """ëª¨ë“  ì·¨ì•½í•œ ë„êµ¬ ì„¤ì •"""
        
        @self.mcp.tool()
        def ì‚¬ìš©ì_ì¸ì¦(ì‚¬ìš©ìëª…: str, ë¹„ë°€ë²ˆí˜¸: str) -> str:
            """ì‚¬ìš©ìë¥¼ ì¸ì¦í•˜ê³  ì„¸ì…˜ í† í°ì„ ë°˜í™˜í•©ë‹ˆë‹¤
            
            Args:
                ì‚¬ìš©ìëª…: ì¸ì¦í•  ì‚¬ìš©ìëª…
                ë¹„ë°€ë²ˆí˜¸: ì¸ì¦ìš© ë¹„ë°€ë²ˆí˜¸
            """
            # ê°„ë‹¨í•œ ì‚¬ìš©ì ë°ì´í„°ë² ì´ìŠ¤ì™€ ìê²© ì¦ëª…
            ì‚¬ìš©ìë“¤ = {
                "ì‚¬ìš©ì1": "password123",
                "ì‚¬ìš©ì2": "qwerty456", 
                "ê´€ë¦¬ì": "admin_secure_pwd!",
                "ê²ŒìŠ¤íŠ¸": "guest123"
            }
            
            # ìê²© ì¦ëª…ì´ ìœ íš¨í•œì§€ í™•ì¸
            if ì‚¬ìš©ìëª… in ì‚¬ìš©ìë“¤ and ì‚¬ìš©ìë“¤[ì‚¬ìš©ìëª…] == ë¹„ë°€ë²ˆí˜¸:
                # ì„¸ì…˜ í† í° ìƒì„± (ì·¨ì•½í•œ êµ¬í˜„)
                íƒ€ì„ìŠ¤íƒ¬í”„ = int(time.time())
                í† í°ë°ì´í„° = f"{ì‚¬ìš©ìëª…}:{íƒ€ì„ìŠ¤íƒ¬í”„}"
                í† í° = hashlib.md5(í† í°ë°ì´í„°.encode()).hexdigest()
                
                # ì„¸ì…˜ ì €ì¥
                self.í† í°ì €ì¥ì†Œ["ì‚¬ìš©ì_ì„¸ì…˜"][í† í°] = {
                    "ì‚¬ìš©ìëª…": ì‚¬ìš©ìëª…,
                    "ìƒì„±ì‹œê°„": íƒ€ì„ìŠ¤íƒ¬í”„,
                    "ì—­í• ": "ê´€ë¦¬ì" if ì‚¬ìš©ìëª… == "ê´€ë¦¬ì" else "ì‚¬ìš©ì"
                }
                
                return f"ì¸ì¦ ì„±ê³µ! ì„¸ì…˜ í† í°: {í† í°}"
            else:
                return "ì¸ì¦ ì‹¤íŒ¨: ì˜ëª»ëœ ì‚¬ìš©ìëª… ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸"
        
        @self.mcp.tool()
        def í† í°_ê²€ì¦(í† í°: str) -> str:
            """ì„¸ì…˜ í† í°ì´ ìœ íš¨í•œì§€ í™•ì¸í•©ë‹ˆë‹¤
            
            Args:
                í† í°: ê²€ì¦í•  ì„¸ì…˜ í† í°
            """
            # ì·¨ì•½ì : í† í°ì— ëŒ€í•œ ë„ˆë¬´ ë§ì€ ì •ë³´ë¥¼ ê³µê°œ
            
            # ê´€ë¦¬ì í† í°(JWT)ì¸ì§€ í™•ì¸
            if í† í° == self.í† í°ì €ì¥ì†Œ["ê´€ë¦¬ì_í† í°"]:
                return f"""
                í† í° ê²€ì¦ ê²°ê³¼:
                -------------------------
                í† í°: {í† í°}
                íƒ€ì…: JWT ê´€ë¦¬ì í† í°
                ìƒíƒœ: ìœ íš¨
                ë””ì½”ë”©ëœ í˜ì´ë¡œë“œ: {{"sub": "admin", "role": "admin", "flag": "YBG{{t0k3n_th3ft_v3ry_b4d!}}", "iat": 1651884800}}
                
                ê²½ê³ : ì´ í† í°ì€ ì „ì²´ ê´€ë¦¬ì ê¶Œí•œì„ ë¶€ì—¬í•©ë‹ˆë‹¤!
                """
            
            # ì‚¬ìš©ì ì„¸ì…˜ í† í°ì¸ì§€ í™•ì¸
            if í† í° in self.í† í°ì €ì¥ì†Œ["ì‚¬ìš©ì_ì„¸ì…˜"]:
                ì„¸ì…˜ = self.í† í°ì €ì¥ì†Œ["ì‚¬ìš©ì_ì„¸ì…˜"][í† í°]
                return f"""
                í† í° ê²€ì¦ ê²°ê³¼:
                -------------------------
                í† í°: {í† í°}
                íƒ€ì…: ì„¸ì…˜ í† í°
                ìƒíƒœ: ìœ íš¨
                ì‚¬ìš©ìëª…: {ì„¸ì…˜["ì‚¬ìš©ìëª…"]}
                ì—­í• : {ì„¸ì…˜["ì—­í• "]}
                ìƒì„±ì‹œê°„: {ì„¸ì…˜["ìƒì„±ì‹œê°„"]}
                """
            
            # í† í°ì´ MD5 í˜•ì‹ê³¼ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸
            if re.match(r'^[0-9a-f]{32}$', í† í°):
                return f"í† í° {í† í°}ì€ ìœ íš¨í•œ í˜•ì‹ìœ¼ë¡œ ë³´ì´ì§€ë§Œ í™œì„± ì„¸ì…˜ì—ì„œ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤"
            else:
                return f"í† í° {í† í°}ì€ ë¬´íš¨í•©ë‹ˆë‹¤ (ì˜ëª»ëœ í˜•ì‹)"
        
        @self.mcp.tool()
        def ì„œë¹„ìŠ¤_í† í°_í™•ì¸(ì„œë¹„ìŠ¤ëª…: str = "") -> str:
            """ì„œë¹„ìŠ¤ API í† í°ì˜ ìƒíƒœë¥¼ í™•ì¸í•©ë‹ˆë‹¤
            
            Args:
                ì„œë¹„ìŠ¤ëª…: í™•ì¸í•  ì„œë¹„ìŠ¤ëª… (ì´ë©”ì¼_ì„œë¹„ìŠ¤, í´ë¼ìš°ë“œ_ìŠ¤í† ë¦¬ì§€, ë¶„ì„_ë„êµ¬) - ì„ íƒì‚¬í•­
            """
            # ì·¨ì•½ì : ì´ ë„êµ¬ëŠ” API í‚¤ë¥¼ ë…¸ì¶œí•©ë‹ˆë‹¤
            
            if ì„œë¹„ìŠ¤ëª… and ì„œë¹„ìŠ¤ëª… in self.í† í°ì €ì¥ì†Œ["API_í‚¤"]:
                APIí‚¤ = self.í† í°ì €ì¥ì†Œ["API_í‚¤"][ì„œë¹„ìŠ¤ëª…]
                return f"""
                ì„œë¹„ìŠ¤ í† í° ìƒíƒœ:
                --------------------
                ì„œë¹„ìŠ¤: {ì„œë¹„ìŠ¤ëª…}
                API í‚¤: {APIí‚¤}
                ìƒíƒœ: í™œì„±
                ë§ˆì§€ë§‰ ì‚¬ìš©: 2025-04-16 10:30:00
                
                í† í° ì„¸ë¶€ì •ë³´:
                - íƒ€ì…: API í‚¤
                - ê¶Œí•œ: ì „ì²´ ì ‘ê·¼
                - ë§Œë£Œ: ì—†ìŒ
                """
            elif not ì„œë¹„ìŠ¤ëª…:
                # ëª¨ë“  ì„œë¹„ìŠ¤ í‘œì‹œ
                ê²°ê³¼ = "ì‚¬ìš© ê°€ëŠ¥í•œ ì„œë¹„ìŠ¤ì™€ í† í°:\n"
                ê²°ê³¼ += "=" * 40 + "\n"
                for ì„œë¹„ìŠ¤, APIí‚¤ in self.í† í°ì €ì¥ì†Œ["API_í‚¤"].items():
                    ê²°ê³¼ += f"\n{ì„œë¹„ìŠ¤.upper()}:\n"
                    ê²°ê³¼ += f"  API í‚¤: {APIí‚¤}\n"
                    ê²°ê³¼ += f"  ìƒíƒœ: í™œì„±\n"
                    ê²°ê³¼ += f"  ë§ˆì§€ë§‰ ì‚¬ìš©: 2025-04-16 10:30:00\n"
                
                return ê²°ê³¼
            else:
                return f"ì„œë¹„ìŠ¤ '{ì„œë¹„ìŠ¤ëª…}'ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì‚¬ìš© ê°€ëŠ¥í•œ ì„œë¹„ìŠ¤: ì´ë©”ì¼_ì„œë¹„ìŠ¤, í´ë¼ìš°ë“œ_ìŠ¤í† ë¦¬ì§€, ë¶„ì„_ë„êµ¬"
        
        @self.mcp.tool()
        def í† í°ì €ì¥ì†Œ_ë””ë²„ê·¸(ë””ë²„ê·¸_ë ˆë²¨: str = "ê¸°ë³¸") -> str:
            """í† í° ì €ì¥ì†Œ ì‹œìŠ¤í…œì„ ë””ë²„ê·¸í•©ë‹ˆë‹¤ (ê°œë°œ ëª©ì )
            
            Args:
                ë””ë²„ê·¸_ë ˆë²¨: ë””ë²„ê·¸ ì •ë³´ ë ˆë²¨ (ê¸°ë³¸, ìƒì„¸, ì „ì²´)
            """
            # ì·¨ì•½ì : ë¯¼ê°í•œ ë°ì´í„°ë¥¼ ë…¸ì¶œí•˜ëŠ” ë””ë²„ê·¸ ê¸°ëŠ¥
            
            if ë””ë²„ê·¸_ë ˆë²¨ == "ê¸°ë³¸":
                return f"""
                í† í° ì €ì¥ì†Œ ë””ë²„ê·¸ ì •ë³´:
                ------------------------
                í™œì„± ì„¸ì…˜: {len(self.í† í°ì €ì¥ì†Œ["ì‚¬ìš©ì_ì„¸ì…˜"])}
                API í‚¤ ê°œìˆ˜: {len(self.í† í°ì €ì¥ì†Œ["API_í‚¤"])}
                ê´€ë¦¬ì í† í° ì¡´ì¬: {'ì˜ˆ' if self.í† í°ì €ì¥ì†Œ["ê´€ë¦¬ì_í† í°"] else 'ì•„ë‹ˆì˜¤'}
                """
            
            elif ë””ë²„ê·¸_ë ˆë²¨ == "ìƒì„¸":
                ê²°ê³¼ = "ìƒì„¸ í† í° ì €ì¥ì†Œ ë””ë²„ê·¸:\n"
                ê²°ê³¼ += "=" * 40 + "\n"
                
                ê²°ê³¼ += f"\nê´€ë¦¬ì í† í°: {self.í† í°ì €ì¥ì†Œ['ê´€ë¦¬ì_í† í°']}\n"
                
                ê²°ê³¼ += f"\ní™œì„± ì„¸ì…˜ ({len(self.í† í°ì €ì¥ì†Œ['ì‚¬ìš©ì_ì„¸ì…˜'])}):\n"
                for í† í°, ì„¸ì…˜ in self.í† í°ì €ì¥ì†Œ["ì‚¬ìš©ì_ì„¸ì…˜"].items():
                    ê²°ê³¼ += f"  {í† í°}: {ì„¸ì…˜}\n"
                
                ê²°ê³¼ += f"\nAPI í‚¤ ({len(self.í† í°ì €ì¥ì†Œ['API_í‚¤'])}):\n"
                for ì„œë¹„ìŠ¤, í‚¤ in self.í† í°ì €ì¥ì†Œ["API_í‚¤"].items():
                    ê²°ê³¼ += f"  {ì„œë¹„ìŠ¤}: {í‚¤}\n"
                
                return ê²°ê³¼
            
            elif ë””ë²„ê·¸_ë ˆë²¨ == "ì „ì²´":
                return f"""
                ì „ì²´ í† í° ì €ì¥ì†Œ ë¤í”„:
                =======================
                {json.dumps(self.í† í°ì €ì¥ì†Œ, indent=2, ensure_ascii=False)}
                
                ë³´ì•ˆ ê²½ê³ : ë¯¼ê°í•œ ì •ë³´ê°€ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤!
                
                """
            
            else:
                return "ì˜ëª»ëœ ë””ë²„ê·¸ ë ˆë²¨ì…ë‹ˆë‹¤. ì‚¬ìš© ê°€ëŠ¥: ê¸°ë³¸, ìƒì„¸, ì „ì²´"
        
        @self.mcp.tool()
        def ì‹œìŠ¤í…œ_ìƒíƒœ_í™•ì¸() -> str:
            """ì‹œìŠ¤í…œ ìƒíƒœ í™•ì¸ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤"""
            # ì·¨ì•½ì : ìƒíƒœ í™•ì¸ì´ ë¡œê·¸ì—ì„œ í† í° ì •ë³´ë¥¼ ë…¸ì¶œ
            
            ìƒíƒœì •ë³´ = {
                "ì‹œìŠ¤í…œ": "ì •ìƒ",
                "ë°ì´í„°ë² ì´ìŠ¤": "ì—°ê²°ë¨",
                "API_ì„œë¹„ìŠ¤": "ì‘ë™ì¤‘",
                "í† í°_ê°œìˆ˜": len(self.í† í°ì €ì¥ì†Œ["ì‚¬ìš©ì_ì„¸ì…˜"]),
                "ë§ˆì§€ë§‰_ê´€ë¦¬ì_ë¡œê·¸ì¸": "2025-04-16 09:15:00"
            }
            
            # ê° ì„œë¹„ìŠ¤ í™•ì¸ ì‹œë®¬ë ˆì´ì…˜
            ì„œë¹„ìŠ¤_í™•ì¸ = []
            for ì„œë¹„ìŠ¤, APIí‚¤ in self.í† í°ì €ì¥ì†Œ["API_í‚¤"].items():
                ì„œë¹„ìŠ¤_í™•ì¸.append(f"{ì„œë¹„ìŠ¤}: ì •ìƒ (í‚¤ ì‚¬ìš©: {APIí‚¤[:10]}...)")
            
            return f"""
            ì‹œìŠ¤í…œ ìƒíƒœ ë³´ê³ ì„œ:
            ====================
            {json.dumps(ìƒíƒœì •ë³´, indent=2, ensure_ascii=False)}
            
            ì„œë¹„ìŠ¤ ìƒíƒœ:
            {chr(10).join(ì„œë¹„ìŠ¤_í™•ì¸)}
            
            ìµœê·¼ í™œë™:
            - ê´€ë¦¬ì í† í° ë§ˆì§€ë§‰ ê²€ì¦: {self.í† í°ì €ì¥ì†Œ['ê´€ë¦¬ì_í† í°'][-20:]}...
            - ì´ í™œì„± ì„¸ì…˜: {len(self.í† í°ì €ì¥ì†Œ['ì‚¬ìš©ì_ì„¸ì…˜'])}
            
            ëª¨ë“  ì‹œìŠ¤í…œì´ ì •ìƒ ì‘ë™ì¤‘ì…ë‹ˆë‹¤.
            """
        
        @self.mcp.tool()
        def í† í°_ë°±ì—…(ë°±ì—…_íƒ€ì…: str = "ë¶€ë¶„") -> str:
            """í† í° ë°ì´í„°ì˜ ë°±ì—…ì„ ìƒì„±í•©ë‹ˆë‹¤
            
            Args:
                ë°±ì—…_íƒ€ì…: ë°±ì—… íƒ€ì… (ë¶€ë¶„, ì „ì²´, ì•”í˜¸í™”)
            """
            # ì·¨ì•½ì : í† í°ì„ ë…¸ì¶œí•  ìˆ˜ ìˆëŠ” ë°±ì—… ê¸°ëŠ¥
            
            if ë°±ì—…_íƒ€ì… == "ë¶€ë¶„":
                return f"""
                ë¶€ë¶„ í† í° ë°±ì—… ìƒì„±ë¨:
                ----------------------------
                ë°±ì—… ID: backup_{int(time.time())}
                ì‚¬ìš©ì ì„¸ì…˜: {len(self.í† í°ì €ì¥ì†Œ["ì‚¬ìš©ì_ì„¸ì…˜"])}ê°œ í† í° ë°±ì—…ë¨
                API í‚¤: {len(self.í† í°ì €ì¥ì†Œ["API_í‚¤"])}ê°œ í‚¤ ë°±ì—…ë¨
                ê´€ë¦¬ì í† í°: í¬í•¨ë¨
                
                ë°±ì—… ì €ì¥ ìœ„ì¹˜: /tmp/token_backup_partial.json
                """
            
            elif ë°±ì—…_íƒ€ì… == "ì „ì²´":
                return f"""
                ì „ì²´ í† í° ë°±ì—… ìƒì„±ë¨:
                -------------------------
                ë°±ì—… ID: backup_full_{int(time.time())}
                
                ë°±ì—… ë‚´ìš©:
                {json.dumps(self.í† í°ì €ì¥ì†Œ, indent=2, ensure_ascii=False)}
                
                ê²½ê³ : ì´ ë°±ì—…ì—ëŠ” ë¯¼ê°í•œ ì¸ì¦ ë°ì´í„°ê°€ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤!
                ì•ˆì „í•˜ê²Œ ì €ì¥í•˜ê³  ì ‘ê·¼ì„ ì œí•œí•˜ì„¸ìš”!
                """
            
            elif ë°±ì—…_íƒ€ì… == "ì•”í˜¸í™”":
                # "ì•”í˜¸í™”ëœ" ë°±ì—… ì‹œë®¬ë ˆì´ì…˜ (í•˜ì§€ë§Œ ì—¬ì „íˆ í”Œë˜ê·¸ í‘œì‹œ)
                return f"""
                ì•”í˜¸í™”ëœ í† í° ë°±ì—… ìƒì„±ë¨:
                ------------------------------
                ë°±ì—… ID: backup_enc_{int(time.time())}
                ì•”í˜¸í™”: AES-256 (í‚¤: backup_key_2025)
                
                ì•”í˜¸í™”ëœ ë°ì´í„° ë¯¸ë¦¬ë³´ê¸°:
                ê´€ë¦¬ì í† í° í•´ì‹œ: {hashlib.sha256(self.í† í°ì €ì¥ì†Œ["ê´€ë¦¬ì_í† í°"].encode()).hexdigest()}
                
                
                
                ë°±ì—… ì €ì¥ ìœ„ì¹˜: /tmp/token_backup_encrypted.enc
                """
            
            else:
                return "ì˜ëª»ëœ ë°±ì—… íƒ€ì…ì…ë‹ˆë‹¤. ì‚¬ìš© ê°€ëŠ¥: ë¶€ë¶„, ì „ì²´, ì•”í˜¸í™”"
    
    def SSEì„œë²„_ë§ˆìš´íŠ¸(self):
        """FastAPI ì•±ì— SSE ì„œë²„ë¥¼ ë§ˆìš´íŠ¸í•©ë‹ˆë‹¤"""
        self.app.mount("/", self.SSEì„œë²„_ìƒì„±())
        
    def SSEì„œë²„_ìƒì„±(self):
        """SSE ì—°ê²°ê³¼ ë©”ì‹œì§€ ì²˜ë¦¬ë¥¼ ë‹¤ë£¨ëŠ” Starlette ì•±ì„ ìƒì„±í•©ë‹ˆë‹¤"""
        transport = SseServerTransport("/messages/")
        
        # í•¸ë“¤ëŸ¬ í•¨ìˆ˜ ì •ì˜
        async def handle_sse(request):
            async with transport.connect_sse(
                request.scope, request.receive, request._send
            ) as streams:
                await self.mcp._mcp_server.run(
                    streams[0], streams[1], self.mcp._mcp_server.create_initialization_options()
                )
        
        # SSEì™€ ë©”ì‹œì§€ ì²˜ë¦¬ë¥¼ ìœ„í•œ Starlette ë¼ìš°íŠ¸ ìƒì„±
        routes = [
            Route("/sse", endpoint=handle_sse),
            Mount("/messages", app=transport.handle_post_message),
        ]
        
        # Starlette ì•± ìƒì„±
        return Starlette(routes=routes)
    
    def ì‹¤í–‰(self):
        """uvicornìœ¼ë¡œ ì„œë²„ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤"""
        import uvicorn
        print(f"{self.name} MCP ì„œë²„ ì‹œì‘")
        print("=" * 50)
        print("ğŸ¯ ì±Œë¦°ì§€ 7: í† í° íƒˆì·¨")
        print("ğŸ’€ ì´ ì„œë²„ëŠ” ì—¬ëŸ¬ í† í° íƒˆì·¨ ì·¨ì•½ì ì„ í¬í•¨í•˜ê³  ìˆìŠµë‹ˆë‹¤")
        print("ğŸ” ë¯¼ê°í•œ í† í°ê³¼ API í‚¤ë¥¼ ì°¾ì•„ì„œ ì¶”ì¶œí•´ë³´ì„¸ìš”")
        print("ğŸ í”Œë˜ê·¸ë¥¼ ì°¾ì•„ë³´ì„¸ìš”: YBG{...}")
        print("=" * 50)
        print(f"ì„œë²„ ì‹¤í–‰ ì£¼ì†Œ: http://localhost:{self.port}")
        print(f"SSE ì—”ë“œí¬ì¸íŠ¸: http://localhost:{self.port}/sse")
        print("\nì‚¬ìš© ê°€ëŠ¥í•œ ë„êµ¬:")
        print("- ì‚¬ìš©ì_ì¸ì¦(ì‚¬ìš©ìëª…, ë¹„ë°€ë²ˆí˜¸)")
        print("- í† í°_ê²€ì¦(í† í°)")
        print("- ì„œë¹„ìŠ¤_í† í°_í™•ì¸(ì„œë¹„ìŠ¤ëª…)")
        print("- í† í°ì €ì¥ì†Œ_ë””ë²„ê·¸(ë””ë²„ê·¸_ë ˆë²¨)")
        print("- ì‹œìŠ¤í…œ_ìƒíƒœ_í™•ì¸()")
        print("- í† í°_ë°±ì—…(ë°±ì—…_íƒ€ì…)")
        print("=" * 50)
        
        uvicorn.run(self.app, host="0.0.0.0", port=self.port)

# ì„œë²„ ì‹¤í–‰
if __name__ == "__main__":
    ì„œë²„ = ì±Œë¦°ì§€7ì„œë²„()
    ì„œë²„.ì‹¤í–‰()